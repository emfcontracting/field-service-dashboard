<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EMF Mobile App - Offline Mode Guide</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #1a1a2e;
      color: #eee;
      line-height: 1.6;
      padding: 20px;
      max-width: 600px;
      margin: 0 auto;
    }
    h1 { color: #4ade80; margin-bottom: 10px; font-size: 24px; }
    h2 { color: #60a5fa; margin: 25px 0 15px; font-size: 18px; border-bottom: 1px solid #333; padding-bottom: 8px; }
    h3 { color: #fbbf24; margin: 20px 0 10px; font-size: 16px; }
    p { margin-bottom: 12px; color: #ccc; }
    .header { text-align: center; margin-bottom: 30px; }
    .logo { font-size: 48px; margin-bottom: 10px; }
    .card {
      background: #252540;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 20px;
      border: 1px solid #333;
    }
    .status-indicator {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 16px;
      border-radius: 20px;
      font-weight: 600;
      margin: 5px 0;
    }
    .status-green { background: rgba(34, 197, 94, 0.2); color: #4ade80; }
    .status-yellow { background: rgba(234, 179, 8, 0.2); color: #fbbf24; }
    .status-red { background: rgba(239, 68, 68, 0.2); color: #f87171; }
    .dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      display: inline-block;
    }
    .dot-green { background: #22c55e; }
    .dot-yellow { background: #eab308; }
    .dot-red { background: #ef4444; }
    ul { margin: 10px 0 10px 20px; }
    li { margin-bottom: 8px; color: #ccc; }
    .emoji { font-size: 20px; margin-right: 8px; }
    .tip {
      background: rgba(59, 130, 246, 0.1);
      border-left: 4px solid #3b82f6;
      padding: 12px 16px;
      margin: 15px 0;
      border-radius: 0 8px 8px 0;
    }
    .warning {
      background: rgba(234, 179, 8, 0.1);
      border-left: 4px solid #eab308;
      padding: 12px 16px;
      margin: 15px 0;
      border-radius: 0 8px 8px 0;
    }
    .step {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      margin-bottom: 15px;
    }
    .step-number {
      background: #3b82f6;
      color: white;
      width: 28px;
      height: 28px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      flex-shrink: 0;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 15px 0;
    }
    th, td {
      padding: 10px;
      text-align: left;
      border-bottom: 1px solid #333;
    }
    th { color: #60a5fa; font-weight: 600; }
    .yes { color: #4ade80; }
    .no { color: #f87171; }
    .back-btn {
      display: inline-block;
      background: #3b82f6;
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 600;
      margin-top: 20px;
    }
    .lang-toggle {
      display: flex;
      gap: 10px;
      justify-content: center;
      margin-bottom: 20px;
    }
    .lang-btn {
      padding: 8px 16px;
      border-radius: 20px;
      border: 2px solid #3b82f6;
      background: transparent;
      color: #3b82f6;
      cursor: pointer;
      font-weight: 600;
    }
    .lang-btn.active {
      background: #3b82f6;
      color: white;
    }
    .hidden { display: none; }
    .mock-header {
      background: #1f2937;
      border-radius: 8px;
      padding: 12px;
      margin: 15px 0;
      font-family: monospace;
      font-size: 12px;
    }
    .mock-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }
    .mock-download-bar {
      background: #374151;
      border-radius: 6px;
      padding: 8px 12px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 8px;
    }
    .download-btn {
      background: #3b82f6;
      color: white;
      padding: 4px 12px;
      border-radius: 4px;
      font-size: 11px;
      font-weight: bold;
    }
    .highlight-box {
      border: 2px dashed #fbbf24;
      padding: 4px;
      border-radius: 8px;
      animation: pulse 2s infinite;
    }
    @keyframes pulse {
      0%, 100% { border-color: #fbbf24; }
      50% { border-color: #f59e0b; }
    }
  </style>
</head>
<body>
  <!-- Language Toggle -->
  <div class="lang-toggle">
    <button class="lang-btn active" onclick="showEnglish()">ğŸ‡ºğŸ‡¸ English</button>
    <button class="lang-btn" onclick="showSpanish()">ğŸ‡²ğŸ‡½ EspaÃ±ol</button>
  </div>

  <!-- ENGLISH VERSION -->
  <div id="english">
    <div class="header">
      <div class="logo">ğŸ“±</div>
      <h1>Offline Mode Guide</h1>
      <p>How to use the EMF Mobile App without internet</p>
    </div>

    <div class="card" style="background: #422006; border-color: #f59e0b;">
      <p style="color: #fcd34d; margin: 0;"><strong>âš ï¸ IMPORTANT:</strong> You must login and tap Download <strong>at least once while online</strong> before offline mode will work. After that, the app works even if you reload the page offline!</p>
    </div>

    <div class="card">
      <h2>ğŸ“¥ Where is the Download Button?</h2>
      <p>The Download button is in the <strong>header area</strong> below your name:</p>
      
      <div class="mock-header">
        <div class="mock-row">
          <span>ğŸ‘‹ Daniel <span style="color:#22c55e">ğŸŸ¢</span></span>
          <span style="color:#ef4444">[Logout]</span>
        </div>
        <div class="highlight-box">
          <div class="mock-download-bar">
            <span style="color:#9ca3af">ğŸ“¥ 5 WOs ready for offline â€¢ 2m ago</span>
            <span class="download-btn">ğŸ“¥ Download</span>
          </div>
        </div>
      </div>
      
      <div class="tip">
        <strong>â¬†ï¸ Tap "Download" before going to basements or remote areas!</strong><br>
        This saves your work orders to your phone so you can work without signal.
      </div>
    </div>

    <div class="card">
      <h2>ğŸ”µ Understanding the Status Indicator</h2>
      <p>Look for the small colored dot next to your name in the header:</p>
      
      <div class="status-indicator status-green">
        <span class="dot dot-green"></span>
        <span>âœ“ Online & Synced</span>
      </div>
      <p>You're connected. All changes save immediately.</p>
      
      <div class="status-indicator status-yellow">
        <span class="dot dot-yellow"></span>
        <span>3 Pending</span>
      </div>
      <p>You're online but have changes waiting to sync. Tap "Sync Now" to upload.</p>
      
      <div class="status-indicator status-red">
        <span class="dot dot-red"></span>
        <span>! Offline</span>
      </div>
      <p>No internet connection. Your work is saved locally.</p>
    </div>

    <div class="card">
      <h2>âœ… What Works Offline</h2>
      <table>
        <tr>
          <th>Feature</th>
          <th>Offline?</th>
        </tr>
        <tr>
          <td><span class="emoji">ğŸ‘€</span> View Work Orders</td>
          <td class="yes">âœ… Yes</td>
        </tr>
        <tr>
          <td><span class="emoji">âœ“</span> Check In</td>
          <td class="yes">âœ… Yes</td>
        </tr>
        <tr>
          <td><span class="emoji">â¸</span> Check Out</td>
          <td class="yes">âœ… Yes</td>
        </tr>
        <tr>
          <td><span class="emoji">ğŸ’¬</span> Add Comments</td>
          <td class="yes">âœ… Yes</td>
        </tr>
        <tr>
          <td><span class="emoji">â±</span> Log Daily Hours</td>
          <td class="yes">âœ… Yes</td>
        </tr>
        <tr>
          <td><span class="emoji">âœ…</span> Complete Work Order</td>
          <td class="yes">âœ… Yes</td>
        </tr>
        <tr>
          <td><span class="emoji">ğŸ“‹</span> View Completed WOs</td>
          <td class="yes">âœ… Yes</td>
        </tr>
        <tr>
          <td><span class="emoji">ğŸ‘¥</span> Add/Remove Team</td>
          <td class="no">âŒ Online Only</td>
        </tr>
        <tr>
          <td><span class="emoji">ğŸ“</span> NTE Increase Request</td>
          <td class="no">âŒ Online Only</td>
        </tr>
        <tr>
          <td><span class="emoji">âœï¸</span> Customer Signature</td>
          <td class="no">âŒ Online Only</td>
        </tr>
      </table>
    </div>

    <div class="card">
      <h2>ğŸ“´ How To Use Offline Mode</h2>
      
      <div class="step">
        <div class="step-number">1</div>
        <div>
          <strong>Login while you have good signal</strong>
          <p>The app will automatically start downloading your work orders.</p>
        </div>
      </div>
      
      <div class="step">
        <div class="step-number">2</div>
        <div>
          <strong>Tap the blue "ğŸ“¥ Download" button</strong>
          <p>This is in the header bar. It ensures all your work orders are saved locally.</p>
        </div>
      </div>
      
      <div class="step">
        <div class="step-number">3</div>
        <div>
          <strong>Wait for the green confirmation</strong>
          <p>You'll see "âœ… X work orders ready for offline!" when complete.</p>
        </div>
      </div>
      
      <div class="step">
        <div class="step-number">4</div>
        <div>
          <strong>Now you can work without internet!</strong>
          <p>Check in, add comments, log hours - everything saves locally. You'll see <strong style="color:#fbbf24">[PENDING SYNC]</strong> on your entries.</p>
        </div>
      </div>
      
      <div class="step">
        <div class="step-number">5</div>
        <div>
          <strong>When back online, tap "Sync Now"</strong>
          <p>Your changes upload to the server. The [PENDING SYNC] tags will disappear once synced.</p>
        </div>
      </div>
    </div>

    <div class="card">
      <h2>ğŸ’¡ Tips for Best Results</h2>
      
      <div class="tip">
        <strong>ğŸ“¶ Download before going underground</strong><br>
        Before going to a basement or remote area, tap "Download" while you have good signal.
      </div>
      
      <div class="tip">
        <strong>ğŸ”¢ Check the cached count</strong><br>
        The header shows "5 WOs ready for offline" - this tells you how many work orders are saved on your phone.
      </div>
      
      <div class="tip">
        <strong>ğŸ”„ Tap "Sync Now" when you see yellow</strong><br>
        If you see a yellow indicator with a number, you have changes waiting to upload.
      </div>
      
      <div class="warning">
        <strong>âš ï¸ Important:</strong> For signatures and NTE requests, you need internet. Plan to do these when you have connection.
      </div>
    </div>

    <div class="card">
      <h2>â“ Common Questions</h2>
      
      <h3>Q: Will I lose my work if I go offline?</h3>
      <p>No! All your check-ins, comments, and hours are saved on your phone. Look for the <strong style="color:#fbbf24">[PENDING SYNC]</strong> tag - this confirms it's saved locally and will upload when you're back online.</p>
      
      <h3>Q: How do I know my changes synced?</h3>
      <p>Look for the green dot (âœ“) next to your name. You'll also see a green "All changes synced" message.</p>
      
      <h3>Q: What does the cached count mean?</h3>
      <p>"5 WOs ready for offline" means 5 work orders are saved on your phone and can be viewed without internet.</p>
      
      <h3>Q: Can I reload the page while offline?</h3>
      <p>Yes! Once you've logged in and downloaded at least once while online, you can reload the page offline and your data will still be there.</p>
      
      <h3>Q: Do I need to tap Download every time?</h3>
      <p>No! The app automatically downloads when you login. But tap Download before going to areas with poor signal to make sure you have the latest data.</p>
    </div>

    <div style="text-align: center; margin-top: 30px;">
      <a href="/mobile" class="back-btn">â† Back to Mobile App</a>
    </div>
  </div>

  <!-- SPANISH VERSION -->
  <div id="spanish" class="hidden">
    <div class="header">
      <div class="logo">ğŸ“±</div>
      <h1>GuÃ­a del Modo Sin ConexiÃ³n</h1>
      <p>CÃ³mo usar la aplicaciÃ³n EMF sin internet</p>
    </div>

    <div class="card" style="background: #422006; border-color: #f59e0b;">
      <p style="color: #fcd34d; margin: 0;"><strong>âš ï¸ IMPORTANTE:</strong> Debes iniciar sesiÃ³n y tocar Descargar <strong>al menos una vez con conexiÃ³n</strong> antes de que funcione el modo offline. Â¡DespuÃ©s de eso, la app funciona incluso si recargas la pÃ¡gina sin internet!</p>
    </div>

    <div class="card">
      <h2>ğŸ“¥ Â¿DÃ³nde estÃ¡ el BotÃ³n de Descarga?</h2>
      <p>El botÃ³n de Descarga estÃ¡ en el <strong>Ã¡rea del encabezado</strong> debajo de tu nombre:</p>
      
      <div class="mock-header">
        <div class="mock-row">
          <span>ğŸ‘‹ Daniel <span style="color:#22c55e">ğŸŸ¢</span></span>
          <span style="color:#ef4444">[Salir]</span>
        </div>
        <div class="highlight-box">
          <div class="mock-download-bar">
            <span style="color:#9ca3af">ğŸ“¥ 5 OTs listas para offline â€¢ hace 2m</span>
            <span class="download-btn">ğŸ“¥ Descargar</span>
          </div>
        </div>
      </div>
      
      <div class="tip">
        <strong>â¬†ï¸ Â¡Toca "Descargar" antes de ir a sÃ³tanos o Ã¡reas remotas!</strong><br>
        Esto guarda tus Ã³rdenes de trabajo en tu telÃ©fono para que puedas trabajar sin seÃ±al.
      </div>
    </div>

    <div class="card">
      <h2>ğŸ”µ Entendiendo el Indicador de Estado</h2>
      <p>Busca el pequeÃ±o punto de color junto a tu nombre en el encabezado:</p>
      
      <div class="status-indicator status-green">
        <span class="dot dot-green"></span>
        <span>âœ“ En LÃ­nea y Sincronizado</span>
      </div>
      <p>EstÃ¡s conectado. Todos los cambios se guardan inmediatamente.</p>
      
      <div class="status-indicator status-yellow">
        <span class="dot dot-yellow"></span>
        <span>3 Pendientes</span>
      </div>
      <p>EstÃ¡s en lÃ­nea pero tienes cambios esperando sincronizar. Toca "Sincronizar" para subir.</p>
      
      <div class="status-indicator status-red">
        <span class="dot dot-red"></span>
        <span>! Sin ConexiÃ³n</span>
      </div>
      <p>Sin conexiÃ³n a internet. Tu trabajo se guarda localmente.</p>
    </div>

    <div class="card">
      <h2>âœ… QuÃ© Funciona Sin ConexiÃ³n</h2>
      <table>
        <tr>
          <th>FunciÃ³n</th>
          <th>Â¿Sin ConexiÃ³n?</th>
        </tr>
        <tr>
          <td><span class="emoji">ğŸ‘€</span> Ver Ã“rdenes de Trabajo</td>
          <td class="yes">âœ… SÃ­</td>
        </tr>
        <tr>
          <td><span class="emoji">âœ“</span> Registrar Entrada</td>
          <td class="yes">âœ… SÃ­</td>
        </tr>
        <tr>
          <td><span class="emoji">â¸</span> Registrar Salida</td>
          <td class="yes">âœ… SÃ­</td>
        </tr>
        <tr>
          <td><span class="emoji">ğŸ’¬</span> Agregar Comentarios</td>
          <td class="yes">âœ… SÃ­</td>
        </tr>
        <tr>
          <td><span class="emoji">â±</span> Registrar Horas Diarias</td>
          <td class="yes">âœ… SÃ­</td>
        </tr>
        <tr>
          <td><span class="emoji">âœ…</span> Completar Orden de Trabajo</td>
          <td class="yes">âœ… SÃ­</td>
        </tr>
        <tr>
          <td><span class="emoji">ğŸ“‹</span> Ver OT Completadas</td>
          <td class="yes">âœ… SÃ­</td>
        </tr>
        <tr>
          <td><span class="emoji">ğŸ‘¥</span> Agregar/Quitar Equipo</td>
          <td class="no">âŒ Solo En LÃ­nea</td>
        </tr>
        <tr>
          <td><span class="emoji">ğŸ“</span> Solicitud de Aumento NTE</td>
          <td class="no">âŒ Solo En LÃ­nea</td>
        </tr>
        <tr>
          <td><span class="emoji">âœï¸</span> Firma del Cliente</td>
          <td class="no">âŒ Solo En LÃ­nea</td>
        </tr>
      </table>
    </div>

    <div class="card">
      <h2>ğŸ“´ CÃ³mo Usar el Modo Sin ConexiÃ³n</h2>
      
      <div class="step">
        <div class="step-number">1</div>
        <div>
          <strong>Inicia sesiÃ³n cuando tengas buena seÃ±al</strong>
          <p>La app comenzarÃ¡ automÃ¡ticamente a descargar tus Ã³rdenes de trabajo.</p>
        </div>
      </div>
      
      <div class="step">
        <div class="step-number">2</div>
        <div>
          <strong>Toca el botÃ³n azul "ğŸ“¥ Descargar"</strong>
          <p>EstÃ¡ en la barra del encabezado. Asegura que todas tus Ã³rdenes estÃ©n guardadas localmente.</p>
        </div>
      </div>
      
      <div class="step">
        <div class="step-number">3</div>
        <div>
          <strong>Espera la confirmaciÃ³n verde</strong>
          <p>VerÃ¡s "âœ… X Ã³rdenes de trabajo listas para offline!" cuando termine.</p>
        </div>
      </div>
      
      <div class="step">
        <div class="step-number">4</div>
        <div>
          <strong>Â¡Ahora puedes trabajar sin internet!</strong>
          <p>Registra entrada, agrega comentarios, registra horas - todo se guarda localmente. VerÃ¡s <strong style="color:#fbbf24">[PENDING SYNC]</strong> en tus entradas.</p>
        </div>
      </div>
      
      <div class="step">
        <div class="step-number">5</div>
        <div>
          <strong>Cuando vuelvas a tener conexiÃ³n, toca "Sincronizar"</strong>
          <p>Tus cambios se suben al servidor. Las etiquetas [PENDING SYNC] desaparecerÃ¡n una vez sincronizados.</p>
        </div>
      </div>
    </div>

    <div class="card">
      <h2>ğŸ’¡ Consejos para Mejores Resultados</h2>
      
      <div class="tip">
        <strong>ğŸ“¶ Descarga antes de ir bajo tierra</strong><br>
        Antes de ir a un sÃ³tano o Ã¡rea remota, toca "Descargar" mientras tengas buena seÃ±al.
      </div>
      
      <div class="tip">
        <strong>ğŸ”¢ Revisa el conteo guardado</strong><br>
        El encabezado muestra "5 OTs listas para offline" - esto te dice cuÃ¡ntas Ã³rdenes estÃ¡n guardadas en tu telÃ©fono.
      </div>
      
      <div class="tip">
        <strong>ğŸ”„ Toca "Sincronizar" cuando veas amarillo</strong><br>
        Si ves un indicador amarillo con un nÃºmero, tienes cambios esperando subirse.
      </div>
      
      <div class="warning">
        <strong>âš ï¸ Importante:</strong> Para firmas y solicitudes NTE, necesitas internet. Planea hacer estas cuando tengas conexiÃ³n.
      </div>
    </div>

    <div class="card">
      <h2>â“ Preguntas Frecuentes</h2>
      
      <h3>P: Â¿PerderÃ© mi trabajo si me quedo sin conexiÃ³n?</h3>
      <p>Â¡No! Todas tus entradas, comentarios y horas se guardan en tu telÃ©fono. Busca la etiqueta <strong style="color:#fbbf24">[PENDING SYNC]</strong> - esto confirma que estÃ¡ guardado localmente y se subirÃ¡ cuando vuelvas a estar en lÃ­nea.</p>
      
      <h3>P: Â¿CÃ³mo sÃ© que mis cambios se sincronizaron?</h3>
      <p>Busca el punto verde (âœ“) junto a tu nombre. TambiÃ©n verÃ¡s un mensaje verde "Todos los cambios sincronizados".</p>
      
      <h3>P: Â¿QuÃ© significa el conteo guardado?</h3>
      <p>"5 OTs listas para offline" significa que 5 Ã³rdenes de trabajo estÃ¡n guardadas en tu telÃ©fono y pueden verse sin internet.</p>
      
      <h3>P: Â¿Puedo recargar la pÃ¡gina sin conexiÃ³n?</h3>
      <p>Â¡SÃ­! Una vez que hayas iniciado sesiÃ³n y descargado al menos una vez con conexiÃ³n, puedes recargar la pÃ¡gina sin internet y tus datos seguirÃ¡n ahÃ­.</p>
      
      <h3>P: Â¿Necesito tocar Descargar cada vez?</h3>
      <p>Â¡No! La app descarga automÃ¡ticamente cuando inicias sesiÃ³n. Pero toca Descargar antes de ir a Ã¡reas con mala seÃ±al para asegurarte de tener los datos mÃ¡s recientes.</p>
    </div>

    <div style="text-align: center; margin-top: 30px;">
      <a href="/mobile" class="back-btn">â† Volver a la AplicaciÃ³n MÃ³vil</a>
    </div>
  </div>

  <script>
    function showEnglish() {
      document.getElementById('english').classList.remove('hidden');
      document.getElementById('spanish').classList.add('hidden');
      document.querySelectorAll('.lang-btn')[0].classList.add('active');
      document.querySelectorAll('.lang-btn')[1].classList.remove('active');
    }
    
    function showSpanish() {
      document.getElementById('english').classList.add('hidden');
      document.getElementById('spanish').classList.remove('hidden');
      document.querySelectorAll('.lang-btn')[0].classList.remove('active');
      document.querySelectorAll('.lang-btn')[1].classList.add('active');
    }
  </script>
</body>
</html>
